<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test GPS Location</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }
        button {
            padding: 15px 30px;
            font-size: 18px;
            margin: 10px 0;
            width: 100%;
            background: #1976D2;
            color: white;
            border: none;
            border-radius: 5px;
        }
        .result {
            margin: 20px 0;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 5px;
            white-space: pre-wrap;
        }
        .error {
            background: #fee;
            color: #c00;
        }
        .success {
            background: #efe;
            color: #060;
        }
    </style>
</head>
<body>
    <h1>GPS Location Test</h1>
    <p>This page tests if GPS works on your device</p>
    
    <button onclick="testLocation()">Test GPS Access</button>
    
    <div id="result"></div>
    
    <script>
        function testLocation() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = 'Requesting location access...';
            resultDiv.className = 'result';
            
            if (!navigator.geolocation) {
                resultDiv.innerHTML = 'ERROR: Geolocation is not supported by this browser';
                resultDiv.className = 'result error';
                return;
            }
            
            navigator.geolocation.getCurrentPosition(
                function(position) {
                    resultDiv.innerHTML = `SUCCESS! GPS is working

Latitude: ${position.coords.latitude}
Longitude: ${position.coords.longitude}
Accuracy: ${position.coords.accuracy}m
Speed: ${position.coords.speed ? (position.coords.speed * 3.6).toFixed(1) + ' km/h' : 'Not available'}
Heading: ${position.coords.heading || 'Not available'}
Altitude: ${position.coords.altitude || 'Not available'}

Timestamp: ${new Date(position.timestamp).toLocaleString()}`;
                    resultDiv.className = 'result success';
                },
                function(error) {
                    let errorMsg = `ERROR: ${error.message}

Error Code: ${error.code}
`;
                    switch(error.code) {
                        case 1:
                            errorMsg += `
PERMISSION DENIED

For Chrome on iPhone:
1. Go to iPhone Settings
2. Scroll to Chrome
3. Tap Location
4. Select "While Using App"
5. Reload this page

For Safari:
Location usually works better in Safari`;
                            break;
                        case 2:
                            errorMsg += '\nPOSITION UNAVAILABLE\nCheck if Location Services are enabled';
                            break;
                        case 3:
                            errorMsg += '\nTIMEOUT\nTry again';
                            break;
                    }
                    
                    resultDiv.innerHTML = errorMsg;
                    resultDiv.className = 'result error';
                },
                {
                    enableHighAccuracy: true,
                    timeout: 10000,
                    maximumAge: 0
                }
            );
        }
    </script>
</body>
</html>